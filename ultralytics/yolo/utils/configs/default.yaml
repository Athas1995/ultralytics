# YOLO ðŸš€ by Ultralytics, GPL-3.0 license
# Default training settings and hyperparameters for medium-augmentation COCO training

# Task and Mode
task: "classify" # choices=['detect', 'segment', 'classify', 'init'] # init is a special case
mode: "train" # choice=['train', 'val', 'infer']

# Train settings -------------------------------------------------------------------------------------------------------
model: null  # i.e. yolov5s.pt, yolo.yaml
data: null  # i.e. coco128.yaml
epochs: 300
batch_size: 16
imgsz: 640
nosave: False
cache: False  # True/ram, disk or False
device: ''  # cuda device, i.e. 0 or 0,1,2,3 or cpu
workers: 8
project: 'runs/train'
name: 'exp'
exist_ok: False
pretrained: False
optimizer: 'SGD'  # choices=['SGD', 'Adam', 'AdamW', 'RMSProp']
verbose: False
seed: 0
deterministic: True
local_rank: -1
single_cls: False  # train multi-class data as single-class
image_weights: False  # use weighted image selection for training
rect: False  # support rectangular training
cos_lr: False  # use cosine LR scheduler
close_mosaic: 10  # disable mosaic for final 10 epochs
# Segmentation
overlap_mask: True  # masks overlap
mask_ratio: 4  # mask downsample ratio
# Classification
dropout: False  # use dropout
resume: False


# Val/Test settings ----------------------------------------------------------------------------------------------------
noval: False
save_json: False
save_hybrid: False
conf_thres: 0.001
iou_thres: 0.6
max_det: 300
half: True
dnn: False # use OpenCV DNN for ONNX inference
plots: False

# Prediction settings:
source: "ultralytics/assets/"
view_img: False
save_txt: False
save_conf: False
save_crop: False
hide_labels: False  # hide labels
hide_conf: False
vid_stride: 1 # video frame-rate stride
line_thickness: 3  # bounding box thickness (pixels)
update: False # Update all models
visualize: False
augment: False
agnostic_nms: False  # class-agnostic NMS
retina_masks: False

# Hyperparameters ------------------------------------------------------------------------------------------------------
lr0: 0.01  # initial learning rate (SGD=1E-2, Adam=1E-3)
lrf: 0.01  # final OneCycleLR learning rate (lr0 * lrf)
momentum: 0.937  # SGD momentum/Adam beta1
weight_decay: 0.0005  # optimizer weight decay 5e-4
warmup_epochs: 3.0  # warmup epochs (fractions ok)
warmup_momentum: 0.8  # warmup initial momentum
warmup_bias_lr: 0.1  # warmup initial bias lr
box: 0.05  # box loss gain
cls: 0.5  # cls loss gain
cls_pw: 1.0  # cls BCELoss positive_weight
obj: 1.0  # obj loss gain (scale with pixels)
obj_pw: 1.0  # obj BCELoss positive_weight
iou_t: 0.20  # IoU training threshold
anchor_t: 4.0  # anchor-multiple threshold
# anchors: 3  # anchors per output layer (0 to ignore)
fl_gamma: 0.0  # focal loss gamma (efficientDet default gamma=1.5)
label_smoothing: 0.0
nbs: 64 # nominal batch size
# anchors: 3
hsv_h: 0.015  # image HSV-Hue augmentation (fraction)
hsv_s: 0.7  # image HSV-Saturation augmentation (fraction)
hsv_v: 0.4  # image HSV-Value augmentation (fraction)
degrees: 0.0  # image rotation (+/- deg)
translate: 0.1  # image translation (+/- fraction)
scale: 0.5  # image scale (+/- gain)
shear: 0.0  # image shear (+/- deg)
perspective: 0.0  # image perspective (+/- fraction), range 0-0.001
flipud: 0.0  # image flip up-down (probability)
fliplr: 0.5  # image flip left-right (probability)
mosaic: 1.0  # image mosaic (probability)
mixup: 0.0  # image mixup (probability)
copy_paste: 0.0  # segment copy-paste (probability)

# Hydra configs --------------------------------------------------------------------------------------------------------
hydra:
  output_subdir: null  # disable hydra directory creation
  run:
    dir: .
